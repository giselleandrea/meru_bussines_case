Started GET "/" for ::1 at 2024-01-31 18:17:36 -0500
  [1m[35m (2403.8ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (1851.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/giselle-l/.rvm/gems/ruby-3.1.4/gems/railties-7.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/giselle-l/.rvm/gems/ruby-3.1.4/gems/railties-7.1.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.1ms | Allocations: 384)
Completed 200 OK in 23ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 7323)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('3286683302019779655', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
  [1m[36mActiveRecord::InternalMetadata Create (89.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2024-02-01 01:10:59.475125', '2024-02-01 01:10:59.475128')[0m
Migrating to CreateProducts (20240131234025)
  [1m[35m (730.9ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `price` bigint, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (197.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240131234025')[0m
Migrating to CreateClients (20240201000117)
  [1m[35m (2046.8ms)[0m  [1m[35mCREATE TABLE `clients` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `email` varchar(255), `phone` varchar(255), `address` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (107.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240201000117')[0m
Migrating to CreateOrders (20240201000336)
  [1m[35m (50.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('3286683302019779655')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3286683302019779655', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
Migrating to CreateOrders (20240201000336)
  [1m[35m (1024.6ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `num_order` int, `client_id` bigint, `date_order` date, `total_order` bigint, `status_order` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_orders_on_client_id` (`client_id`), CONSTRAINT `fk_rails_5c8e53c896`
FOREIGN KEY (`client_id`)
  REFERENCES `clients` (`id`)
 ON DELETE CASCADE ON UPDATE CASCADE)[0m
  [1m[36mActiveRecord::SchemaMigration Create (94.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240201000336')[0m
Migrating to CreateOrderHasProducts (20240201002330)
  [1m[35m (2010.2ms)[0m  [1m[35mCREATE TABLE `order_has_products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint, `product_id` bigint, `cant` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_has_products_on_order_id` (`order_id`), INDEX `index_order_has_products_on_product_id` (`product_id`), CONSTRAINT `fk_rails_aad4b70e53`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 ON DELETE CASCADE ON UPDATE CASCADE, CONSTRAINT `fk_rails_95d2137019`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
 ON DELETE CASCADE ON UPDATE CASCADE)[0m
  [1m[36mActiveRecord::SchemaMigration Create (149.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240201002330')[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('3286683302019779655')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ (eval):1:in `block (2 levels) in run_file'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ (eval):1:in `block (2 levels) in run_file'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`id`, `name`, `price`, `quantity`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1000, 10, '2024-02-01 01:42:50.488145', '2024-02-01 01:42:50.488145')[0m
  â†³ (eval):1:in `block (2 levels) in run_file'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  â†³ (eval):8:in `block (2 levels) in run_file'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`id`, `name`, `price`, `quantity`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 2000, 5, '2024-02-01 01:42:50.492838', '2024-02-01 01:42:50.492838')[0m
  â†³ (eval):8:in `block (2 levels) in run_file'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ (eval):15:in `block (2 levels) in run_file'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`id`, `name`, `price`, `quantity`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 4000, 2, '2024-02-01 01:42:50.496263', '2024-02-01 01:42:50.496263')[0m
  â†³ (eval):15:in `block (2 levels) in run_file'
  [1m[36mTRANSACTION (111.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2024-01-31 21:05:22 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/giselle-l/.rvm/gems/ruby-3.1.4/gems/railties-7.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/giselle-l/.rvm/gems/ruby-3.1.4/gems/railties-7.1.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.6ms | Allocations: 381)
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 4415)


Started GET "/index" for ::1 at 2024-01-31 21:05:26 -0500
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/index" for ::1 at 2024-01-31 21:05:39 -0500
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/index" for ::1 at 2024-01-31 21:08:13 -0500
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/index/" for ::1 at 2024-01-31 21:08:20 -0500
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/index/" for ::1 at 2024-01-31 21:09:01 -0500
Processing by Api::V1::ProductsController#index as HTML
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 228)


  
AbstractController::ActionNotFound (The show action could not be found for the :set_producto
callback on Api::V1::ProductsController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (7.1.3) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (7.1.3) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (7.1.3) lib/active_support/callbacks.rb:182:in `block (2 levels) in halting_and_conditional'
activesupport (7.1.3) lib/active_support/callbacks.rb:182:in `all?'
activesupport (7.1.3) lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
activesupport (7.1.3) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.3) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.3) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.3) lib/active_support/callbacks.rb:109:in `run_callbacks'
actionpack (7.1.3) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.3) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.3) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.3) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.3) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.3) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.3) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.3) lib/abstract_controller/base.rb:160:in `process'
actionpack (7.1.3) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.0.9) lib/rack/etag.rb:29:in `call'
rack (3.0.9) lib/rack/conditional_get.rb:31:in `call'
rack (3.0.9) lib/rack/head.rb:15:in `call'
activerecord (7.1.3) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.9) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.3) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.3) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.9) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.3) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/index/" for ::1 at 2024-01-31 21:26:44 -0500
  
NoMethodError (undefined method `path' for #<ActionDispatch::Routing::Mapper:0x00007f272c092e50 @set=#<ActionDispatch::Routing::RouteSet:0x00007f272b841490>, @draw_paths=[#<Pathname:/home/giselle-l/.rvm/gems/ruby-3.1.4/gems/actionview-7.1.3/config/routes>, #<Pathname:/home/giselle-l/.rvm/gems/ruby-3.1.4/gems/activestorage-7.1.3/config/routes>, #<Pathname:/home/giselle-l/.rvm/gems/ruby-3.1.4/gems/actioncable-7.1.3/config/routes>, #<Pathname:/home/giselle-l/.rvm/gems/ruby-3.1.4/gems/actionmailbox-7.1.3/config/routes>, #<Pathname:/home/giselle-l/.rvm/gems/ruby-3.1.4/gems/actiontext-7.1.3/config/routes>, #<Pathname:/var/www/html/meru_backend/meru_bussines_case/config/routes>, #<Pathname:/var/www/html/meru_backend/meru_bussines_case/config/routes>], @scope=#<ActionDispatch::Routing::Mapper::Scope:0x00007f272c092dd8 @hash={:path_names=>{:new=>"new", :edit=>"edit"}}, @parent=#<ActionDispatch::Routing::Mapper::Scope:0x00007f272ce56208 @hash=nil, @parent=nil, @scope_level=nil>, @scope_level=nil>, @concerns={}>

  path 'index', to: 'api/v1/products#index'
  ^^^^
Did you mean?  patch):
  
config/routes.rb:12:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/index/" for ::1 at 2024-01-31 21:27:04 -0500
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/index" for ::1 at 2024-01-31 21:27:09 -0500
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/index" for ::1 at 2024-01-31 21:27:30 -0500
Processing by Api::V1::ProductsController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  â†³ app/controllers/api/v1/products_controller.rb:7:in `index'
Completed 200 OK in 25ms (Views: 12.1ms | ActiveRecord: 2.7ms | Allocations: 18783)


Started GET "/products" for ::1 at 2024-01-31 21:28:44 -0500
Processing by Api::V1::ProductsController#products as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  â†³ app/controllers/api/v1/products_controller.rb:6:in `products'
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 2.4ms | Allocations: 5414)


Started GET "/" for ::1 at 2024-01-31 21:48:27 -0500
  
ArgumentError (:to must respond to `action` or `call`, or it must be a String that includes '#'):
  
config/routes.rb:13:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/" for ::1 at 2024-01-31 21:49:01 -0500
  
ArgumentError (:to must respond to `action` or `call`, or it must be a String that includes '#'):
  
config/routes.rb:13:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/" for ::1 at 2024-01-31 21:49:52 -0500
  
ArgumentError (:to must respond to `action` or `call`, or it must be a String that includes '#'):
  
config/routes.rb:13:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/" for ::1 at 2024-01-31 21:51:49 -0500
  
ArgumentError ('/api/v1/product' is not a supported controller name. This can lead to potential routing problems. See https://guides.rubyonrails.org/routing.html#specifying-a-controller-to-use):
  
config/routes.rb:12:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/" for ::1 at 2024-01-31 21:52:23 -0500
Processing by Rails::WelcomeController#index as */*
  Rendering /home/giselle-l/.rvm/gems/ruby-3.1.4/gems/railties-7.1.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/giselle-l/.rvm/gems/ruby-3.1.4/gems/railties-7.1.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.6ms | Allocations: 290)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 1094)


Started GET "/products" for ::1 at 2024-01-31 21:52:38 -0500
  
SyntaxError (/var/www/html/meru_backend/meru_bussines_case/app/controllers/api/v1/products_controller.rb:37: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/products_controller.rb:37: syntax error, unexpected end-of-input, expecting `end'
Started GET "/products" for ::1 at 2024-01-31 21:53:40 -0500
Processing by Api::V1::ProductsController#products as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  â†³ app/controllers/api/v1/products_controller.rb:10:in `products'
Completed 200 OK in 9ms (Views: 4.4ms | ActiveRecord: 0.5ms | Allocations: 5482)


Started POST "/new_product" for ::1 at 2024-01-31 21:56:23 -0500
  
ActionController::RoutingError (uninitialized constant Api::V1::ProductController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^
Did you mean?  Api::V1::ProductsController

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started POST "/new_product" for ::1 at 2024-01-31 21:57:58 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (uninitialized constant Api::V1::ProductController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^
Did you mean?  Api::V1::ProductsController

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started POST "/new_product" for ::1 at 2024-01-31 22:01:35 -0500
Processing by Api::V1::ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Producto 4", "price"=>5000, "quantity"=>80}}
[31mUnpermitted parameter: :product. Context: { controller: Api::V1::ProductsController, action: create, request: #<ActionDispatch::Request:0x00007fc92f54d148>, params: {"product"=>{"name"=>"Producto 4", "price"=>5000, "quantity"=>80}, "controller"=>"api/v1/products", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 20ms (ActiveRecord: 3.0ms | Allocations: 14282)


  
NoMethodError (undefined method `errors' for nil:NilClass

            errors: @producto.errors.full_messages }, 
                             ^^^^^^^):
  
app/controllers/api/v1/products_controller.rb:22:in `create'
Started POST "/new_product" for ::1 at 2024-01-31 22:03:24 -0500
Processing by Api::V1::ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Producto 4", "price"=>5000, "quantity"=>80}}
[31mUnpermitted parameter: :product. Context: { controller: Api::V1::ProductsController, action: create, request: #<ActionDispatch::Request:0x00007fc92fe44df0>, params: {"product"=>{"name"=>"Producto 4", "price"=>5000, "quantity"=>80}, "controller"=>"api/v1/products", "action"=>"create"} }[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 5671)


Started POST "/new_product" for ::1 at 2024-01-31 22:05:07 -0500
Processing by Api::V1::ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Producto 4", "price"=>5000, "quantity"=>80}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/products_controller.rb:16:in `create'
  [1m[36mProduct Create (2.3ms)[0m  [1m[32mINSERT INTO `products` (`name`, `price`, `quantity`, `created_at`, `updated_at`) VALUES ('Producto 4', 5000, 80, '2024-02-01 03:05:07.804623', '2024-02-01 03:05:07.804623')[0m
  â†³ app/controllers/api/v1/products_controller.rb:16:in `create'
  [1m[36mTRANSACTION (117.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/products_controller.rb:16:in `create'
Completed 201 Created in 130ms (Views: 0.2ms | ActiveRecord: 122.8ms | Allocations: 6017)


Started GET "/products" for ::1 at 2024-01-31 22:13:42 -0500
  
SyntaxError (/var/www/html/meru_backend/meru_bussines_case/config/routes.rb:14: syntax error, unexpected local variable or method, expecting `end'
  put 'update_product/:id' to: 'api/v1/products#update'
                           ^~
):
  
config/routes.rb:14: syntax error, unexpected local variable or method, expecting `end'
Started GET "/products" for ::1 at 2024-01-31 22:14:21 -0500
Processing by Api::V1::ProductsController#products as */*
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 204)


  
AbstractController::ActionNotFound (The destroy action could not be found for the :set_producto
callback on Api::V1::ProductsController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (7.1.3) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (7.1.3) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (7.1.3) lib/active_support/callbacks.rb:182:in `block (2 levels) in halting_and_conditional'
activesupport (7.1.3) lib/active_support/callbacks.rb:182:in `all?'
activesupport (7.1.3) lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
activesupport (7.1.3) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.3) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.3) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.3) lib/active_support/callbacks.rb:109:in `run_callbacks'
actionpack (7.1.3) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.3) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.3) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.3) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.3) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.3) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.3) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.3) lib/abstract_controller/base.rb:160:in `process'
actionpack (7.1.3) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.0.9) lib/rack/etag.rb:29:in `call'
rack (3.0.9) lib/rack/conditional_get.rb:31:in `call'
rack (3.0.9) lib/rack/head.rb:15:in `call'
activerecord (7.1.3) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.9) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.3) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.3) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.9) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.3) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/products" for ::1 at 2024-01-31 22:15:46 -0500
Processing by Api::V1::ProductsController#products as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  â†³ app/controllers/api/v1/products_controller.rb:11:in `products'
Completed 200 OK in 10ms (Views: 5.2ms | ActiveRecord: 0.6ms | Allocations: 6622)


Started POST "/update_product/4" for ::1 at 2024-01-31 22:17:08 -0500
  
ActionController::RoutingError (No route matches [POST] "/update_product/4"):
  
Started PUT "/update_product/4" for ::1 at 2024-01-31 22:17:38 -0500
Processing by Api::V1::ProductsController#update as */*
  Parameters: {"product"=>{"quantity"=>90}, "id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:40:in `set_producto'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms | Allocations: 4565)


  
NameError (undefined local variable or method `producto_params' for #<Api::V1::ProductsController:0x00000000018380>

        if @product.update(producto_params)
                           ^^^^^^^^^^^^^^^
Did you mean?  product_params):
  
app/controllers/api/v1/products_controller.rb:30:in `update'
Started PUT "/update_product/4" for ::1 at 2024-01-31 22:18:00 -0500
Processing by Api::V1::ProductsController#update as */*
  Parameters: {"product"=>{"quantity"=>90}, "id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:40:in `set_producto'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/products_controller.rb:30:in `update'
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE `products` SET `products`.`quantity` = 90, `products`.`updated_at` = '2024-02-01 03:18:00.745177' WHERE `products`.`id` = 4[0m
  â†³ app/controllers/api/v1/products_controller.rb:30:in `update'
  [1m[36mTRANSACTION (70.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/products_controller.rb:30:in `update'
Completed 200 OK in 83ms (Views: 0.4ms | ActiveRecord: 73.6ms | Allocations: 6647)


Started DELETE "/delete_product/2" for ::1 at 2024-01-31 22:42:37 -0500
Processing by Api::V1::ProductsController#destroy as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:54:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/products_controller.rb:39:in `destroy'
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 2[0m
  â†³ app/controllers/api/v1/products_controller.rb:39:in `destroy'
  [1m[36mTRANSACTION (70.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/products_controller.rb:39:in `destroy'
Completed 200 OK in 81ms (Views: 0.5ms | ActiveRecord: 71.0ms | Allocations: 6896)


Started GET "/product/1" for ::1 at 2024-01-31 22:58:03 -0500
  
ActionController::RoutingError (No route matches [GET] "/product/1"):
  
Started GET "/product/1" for ::1 at 2024-01-31 22:58:36 -0500
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:58:in `set_product'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 5346)


Started GET "/product/2" for ::1 at 2024-01-31 23:02:55 -0500
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:58:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 6ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3078)


Started GET "/product/3" for ::1 at 2024-01-31 23:03:17 -0500
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:58:in `set_product'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 3156)


Started GET "/product/2" for ::1 at 2024-01-31 23:03:44 -0500
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:58:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 650)


Started GET "/product/2" for ::1 at 2024-01-31 23:03:50 -0500
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:58:in `set_product'
Completed 404 Not Found in 8ms (ActiveRecord: 3.0ms | Allocations: 3045)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=2):
  
app/controllers/api/v1/products_controller.rb:58:in `set_product'
Started GET "/product/1" for ::1 at 2024-01-31 23:04:08 -0500
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:58:in `set_product'
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.4ms | Allocations: 3100)


Started GET "/product/2" for ::1 at 2024-01-31 23:04:27 -0500
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:58:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 5ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3072)


Started GET "/product/2" for ::1 at 2024-01-31 23:05:21 -0500
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:58:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 5ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3025)


Started GET "/product/1" for ::1 at 2024-01-31 23:05:31 -0500
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/products_controller.rb:58:in `set_product'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 3.0ms | Allocations: 3211)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3286683302019779655', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
Migrating to CreateCustomers (20240201000117)
  [1m[35m (772.1ms)[0m  [1m[35mCREATE TABLE `customers` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `email` varchar(255), `phone` varchar(255), `address` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (936.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240201000117')[0m
Migrating to CreateOrders (20240201000336)
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `num_order` int, `customer_id` bigint, `date_order` date, `total_order` bigint, `status_order` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_orders_on_customer_id` (`customer_id`), CONSTRAINT `fk_rails_3dad120da9`
FOREIGN KEY (`customer_id`)
  REFERENCES `customers` (`id`)
 ON DELETE CASCADE ON UPDATE CASCADE)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('3286683302019779655')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3286683302019779655', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
Migrating to CreateOrders (20240201000336)
  [1m[35m (2849.4ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `num_order` int, `customer_id` bigint, `date_order` date, `total_order` bigint, `status_order` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_orders_on_customer_id` (`customer_id`), CONSTRAINT `fk_rails_3dad120da9`
FOREIGN KEY (`customer_id`)
  REFERENCES `customers` (`id`)
 ON DELETE CASCADE ON UPDATE CASCADE)[0m
  [1m[36mActiveRecord::SchemaMigration Create (64.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240201000336')[0m
Migrating to CreateOrderHasProducts (20240201002330)
  [1m[35m (1855.0ms)[0m  [1m[35mCREATE TABLE `order_has_products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `order_id` bigint, `product_id` bigint, `cant` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_order_has_products_on_order_id` (`order_id`), INDEX `index_order_has_products_on_product_id` (`product_id`), CONSTRAINT `fk_rails_aad4b70e53`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 ON DELETE CASCADE ON UPDATE CASCADE, CONSTRAINT `fk_rails_95d2137019`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
 ON DELETE CASCADE ON UPDATE CASCADE)[0m
  [1m[36mActiveRecord::SchemaMigration Create (134.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240201002330')[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('3286683302019779655')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/customers" for ::1 at 2024-02-01 08:05:16 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::CustomersController#customers as */*
  [1m[36mCustomer Load (1.9ms)[0m  [1m[34mSELECT `customers`.* FROM `customers`[0m
  â†³ app/controllers/api/v1/customers_controller.rb:10:in `customers'
Completed 200 OK in 34ms (Views: 2.8ms | ActiveRecord: 2.1ms | Allocations: 10550)


Started GET "/customer/:1" for ::1 at 2024-02-01 08:06:02 -0500
Processing by Api::V1::CustomersController#show as */*
  Parameters: {"id"=>":1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT `customers`.* FROM `customers` WHERE `customers`.`id` = NULL LIMIT 1[0m
  â†³ app/controllers/api/v1/customers_controller.rb:58:in `set_customer'
Filter chain halted as :set_customer rendered or redirected
Completed 404 Not Found in 8ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3295)


Started GET "/customers" for ::1 at 2024-02-01 08:07:17 -0500
Processing by Api::V1::CustomersController#customers as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT `customers`.* FROM `customers`[0m
  â†³ app/controllers/api/v1/customers_controller.rb:10:in `customers'
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 2174)


Started GET "/customer/1" for ::1 at 2024-02-01 08:07:53 -0500
Processing by Api::V1::CustomersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT `customers`.* FROM `customers` WHERE `customers`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/customers_controller.rb:58:in `set_customer'
Filter chain halted as :set_customer rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1289)


Started POST "/new_customer" for ::1 at 2024-02-01 08:11:12 -0500
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"customer"=>{"name"=>"Cliente 1", "email"=>"Cliente@test.com", "phone"=>"1234567891", "addres"=>"Calle 123"}}
Completed 500 Internal Server Error in 50ms (ActiveRecord: 3.0ms | Allocations: 11691)


  
ActiveModel::UnknownAttributeError (unknown attribute 'addres' for Customer.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/customers_controller.rb:20:in `create'
Started POST "/new_customer" for ::1 at 2024-02-01 08:11:55 -0500
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"customer"=>{"name"=>"Cliente 1", "email"=>"Cliente@test.com", "phone"=>"1234567891", "address"=>"Calle 123"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/customers_controller.rb:21:in `create'
  [1m[36mCustomer Create (1.2ms)[0m  [1m[32mINSERT INTO `customers` (`name`, `email`, `phone`, `address`, `created_at`, `updated_at`) VALUES ('Cliente 1', 'Cliente@test.com', '1234567891', 'Calle 123', '2024-02-01 13:11:55.419043', '2024-02-01 13:11:55.419043')[0m
  â†³ app/controllers/api/v1/customers_controller.rb:21:in `create'
  [1m[36mTRANSACTION (319.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/customers_controller.rb:21:in `create'
Completed 201 Created in 332ms (Views: 0.4ms | ActiveRecord: 323.6ms | Allocations: 6268)


Started PUT "/update_customer/1" for ::1 at 2024-02-01 08:12:53 -0500
Processing by Api::V1::CustomersController#update as */*
  Parameters: {"customer"=>{"name"=>"Cliente 1", "email"=>"Cliente@test.com", "phone"=>"1234567891", "address"=>"Calle 123 456"}, "id"=>"1"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT `customers`.* FROM `customers` WHERE `customers`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/customers_controller.rb:58:in `set_customer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/customers_controller.rb:34:in `update'
  [1m[36mCustomer Update (0.7ms)[0m  [1m[33mUPDATE `customers` SET `customers`.`address` = 'Calle 123 456', `customers`.`updated_at` = '2024-02-01 13:12:53.161297' WHERE `customers`.`id` = 1[0m
  â†³ app/controllers/api/v1/customers_controller.rb:34:in `update'
  [1m[36mTRANSACTION (74.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/customers_controller.rb:34:in `update'
Completed 200 OK in 83ms (Views: 0.6ms | ActiveRecord: 75.9ms | Allocations: 3253)


Started PUT "/new_customer" for ::1 at 2024-02-01 08:13:39 -0500
  
ActionController::RoutingError (No route matches [PUT] "/new_customer"):
  
Started POST "/new_customer" for ::1 at 2024-02-01 08:13:45 -0500
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"customer"=>{"name"=>"Cliente 2", "email"=>"Cliente2@test.com", "phone"=>"9876543210", "address"=>"Calle 789 456"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/customers_controller.rb:21:in `create'
  [1m[36mCustomer Create (1.1ms)[0m  [1m[32mINSERT INTO `customers` (`name`, `email`, `phone`, `address`, `created_at`, `updated_at`) VALUES ('Cliente 2', 'Cliente2@test.com', '9876543210', 'Calle 789 456', '2024-02-01 13:13:45.747954', '2024-02-01 13:13:45.747954')[0m
  â†³ app/controllers/api/v1/customers_controller.rb:21:in `create'
  [1m[36mTRANSACTION (105.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/customers_controller.rb:21:in `create'
Completed 201 Created in 111ms (Views: 0.3ms | ActiveRecord: 106.8ms | Allocations: 2046)


Started DELETE "/delete_customer/2" for ::1 at 2024-02-01 08:14:29 -0500
Processing by Api::V1::CustomersController#destroy as */*
  Parameters: {"customer"=>{"name"=>"Cliente 2", "email"=>"Cliente2@test.com", "phone"=>"9876543210", "address"=>"Calle 789 456"}, "id"=>"2"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT `customers`.* FROM `customers` WHERE `customers`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/v1/customers_controller.rb:58:in `set_customer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/customers_controller.rb:43:in `destroy'
  [1m[36mCustomer Destroy (0.3ms)[0m  [1m[31mDELETE FROM `customers` WHERE `customers`.`id` = 2[0m
  â†³ app/controllers/api/v1/customers_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (87.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/customers_controller.rb:43:in `destroy'
Completed 200 OK in 92ms (Views: 0.2ms | ActiveRecord: 88.3ms | Allocations: 2219)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3286683302019779655', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
Migrating to CreateUsers (20240201134059)
  [1m[35m (3179.2ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `email` varchar(255), `username` varchar(255), `password_digest` varchar(255), `role` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (470.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240201134059')[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('3286683302019779655')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/new_user" for ::1 at 2024-02-01 10:01:17 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <module:JsonWebToken> at /var/www/html/meru_backend/meru_bussines_case/app/controllers/concerns/json_web_token.rb:6)
  
ArgumentError (Unknown validator: 'MessageValidator'):
  
app/models/user.rb:5:in `<class:User>'
app/models/user.rb:1:in `<main>'
Started POST "/new_user" for ::1 at 2024-02-01 10:02:35 -0500
  
ArgumentError (Unknown validator: 'MessageValidator'):
  
app/models/user.rb:5:in `<class:User>'
app/models/user.rb:1:in `<main>'
Started POST "/new_user" for ::1 at 2024-02-01 10:07:21 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 225)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:14:in `jwt_decode'
app/controllers/application_controller.rb:10:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:12:29 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 458)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/application_controller.rb:11:in `[]'
app/controllers/application_controller.rb:11:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:16:26 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 304)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/application_controller.rb:12:in `[]'
app/controllers/application_controller.rb:12:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:20:23 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1930)


  
NoMethodError (undefined method `key?' for "{\"error\":\"Error en la decodificaciÃ³n del token: Nil JSON web token\"}":String

        if decoded && decoded.key?[:user_id]
                             ^^^^^):
  
app/controllers/application_controller.rb:12:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:21:47 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 327)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...); return".):
  
app/controllers/application_controller.rb:15:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:23:23 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 319)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...); return".):
  
app/controllers/application_controller.rb:13:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:24:33 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 319)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...); return".):
  
app/controllers/application_controller.rb:13:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:26:34 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 319)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...); return".):
  
app/controllers/application_controller.rb:13:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:27:22 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 320)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...); return".):
  
app/controllers/application_controller.rb:13:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:30:33 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 332)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...); return".):
  
app/controllers/application_controller.rb:13:in `authenticate_request'
Started POST "/new_user" for ::1 at 2024-02-01 10:34:05 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 274)


Started POST "/new_user" for ::1 at 2024-02-01 10:38:32 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Filter chain halted as :authenticate_request! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 250)


Started POST "/new_user" for ::1 at 2024-02-01 10:41:10 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Filter chain halted as :authenticate_request! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 249)


Started POST "/new_user" for ::1 at 2024-02-01 10:41:21 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Filter chain halted as :authenticate_request! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 373)


Started POST "/new_user" for ::1 at 2024-02-01 10:47:28 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 250)


Started POST "/new_user" for ::1 at 2024-02-01 10:51:18 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 250)


Started POST "/new_user" for ::1 at 2024-02-01 10:54:49 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 249)


Started POST "/new_user" for ::1 at 2024-02-01 11:00:41 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 373)


Started POST "/new_user" for ::1 at 2024-02-01 11:03:44 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 249)


Started POST "/new_user" for ::1 at 2024-02-01 11:05:40 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 1", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `username`, `password_digest`, `role`, `created_at`, `updated_at`) VALUES ('usuario 1', 'usuario1@test.com', 'usuariox', '$2a$12$1HKPyLlhmMOGq2jE9FSdf.YI3RQ.yu3tYu5n.G1Bfqw3ZEw0JErf2', 'user', '2024-02-01 16:05:40.978947', '2024-02-01 16:05:40.978947')[0m
  â†³ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (144.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 201 Created in 427ms (Views: 0.5ms | ActiveRecord: 151.5ms | Allocations: 18771)


Started GET "/users" for ::1 at 2024-02-01 11:08:01 -0500
Processing by Api::V1::UsersController#users as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)


Started GET "/users" for ::1 at 2024-02-01 11:08:38 -0500
Processing by Api::V1::UsersController#users as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 232)


Started GET "/users" for ::1 at 2024-02-01 11:08:50 -0500
Processing by Api::V1::UsersController#users as */*
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 4599)


  
NoMethodError (undefined method `json' for #<Api::V1::UsersController:0x00000000019410>

        render json @users
               ^^^^
Did you mean?  JSON):
  
app/controllers/api/v1/users_controller.rb:8:in `users'
Started GET "/users" for ::1 at 2024-02-01 11:08:57 -0500
Processing by Api::V1::UsersController#users as */*
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 3442)


  
NoMethodError (undefined method `json' for #<Api::V1::UsersController:0x0000000001d420>

        render json @users
               ^^^^
Did you mean?  JSON):
  
app/controllers/api/v1/users_controller.rb:8:in `users'
Started GET "/users" for ::1 at 2024-02-01 11:09:22 -0500
Processing by Api::V1::UsersController#users as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  â†³ app/controllers/api/v1/users_controller.rb:8:in `users'
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 2.7ms | Allocations: 5895)


Started GET "/users" for ::1 at 2024-02-01 11:09:36 -0500
Processing by Api::V1::UsersController#users as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 233)


Started GET "/users" for ::1 at 2024-02-01 11:09:55 -0500
Processing by Api::V1::UsersController#users as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  â†³ app/controllers/api/v1/users_controller.rb:7:in `users'
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 2.9ms | Allocations: 5685)


Started POST "/new_user" for ::1 at 2024-02-01 11:10:41 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 2", "email"=>"usuario1@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/users_controller.rb:18:in `create'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `username`, `password_digest`, `role`, `created_at`, `updated_at`) VALUES ('usuario 2', 'usuario1@test.com', 'usuariox', '$2a$12$4o92jeOPmIt7keJaBrAJ8egGkYiemI2AmCF0hCcQ0YeAeU0qt1z76', 'user', '2024-02-01 16:10:41.458834', '2024-02-01 16:10:41.458834')[0m
  â†³ app/controllers/api/v1/users_controller.rb:18:in `create'
  [1m[36mTRANSACTION (121.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/users_controller.rb:18:in `create'
Completed 201 Created in 380ms (Views: 0.4ms | ActiveRecord: 122.4ms | Allocations: 2428)


Started GET "/users" for ::1 at 2024-02-01 11:10:52 -0500
Processing by Api::V1::UsersController#users as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  â†³ app/controllers/api/v1/users_controller.rb:7:in `users'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 874)


Started POST "/new_user" for ::1 at 2024-02-01 11:12:33 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario 3", "email"=>"usuario2@test.com", "username"=>"usuariox", "password"=>"[FILTERED]", "role"=>"user"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/users_controller.rb:18:in `create'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `username`, `password_digest`, `role`, `created_at`, `updated_at`) VALUES ('usuario 3', 'usuario2@test.com', 'usuariox', '$2a$12$wkic1FL0CpccpI9XzTvWY.dV1UN2yFtj.pa0KAad5LIps/98kn6d2', 'user', '2024-02-01 16:12:34.198068', '2024-02-01 16:12:34.198068')[0m
  â†³ app/controllers/api/v1/users_controller.rb:18:in `create'
  [1m[36mTRANSACTION (79.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/users_controller.rb:18:in `create'
Completed 201 Created in 352ms (Views: 0.3ms | ActiveRecord: 83.1ms | Allocations: 6187)


Started POST "//auth/login" for ::1 at 2024-02-01 11:20:07 -0500
  
ActionController::RoutingError (uninitialized constant Api::V1::UthenticationController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^
Did you mean?  Api::V1::AuthenticationController

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started POST "/auth/login" for ::1 at 2024-02-01 11:20:25 -0500
  
ActionController::RoutingError (uninitialized constant Api::V1::UthenticationController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^
Did you mean?  Api::V1::AuthenticationController

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started POST "/auth/login" for ::1 at 2024-02-01 11:21:04 -0500
  
ArgumentError (Before process_action callback :authenticate_request has not been defined):
  
app/controllers/api/v1/authentication_controller.rb:2:in `<class:AuthenticationController>'
app/controllers/api/v1/authentication_controller.rb:1:in `<main>'
Started POST "/auth/login" for ::1 at 2024-02-01 11:21:12 -0500
  
ArgumentError (Before process_action callback :authenticate_request has not been defined):
  
app/controllers/api/v1/authentication_controller.rb:2:in `<class:AuthenticationController>'
app/controllers/api/v1/authentication_controller.rb:1:in `<main>'
Started POST "/auth/login" for ::1 at 2024-02-01 11:25:34 -0500
Processing by Api::V1::AuthenticationController#login as */*
  Parameters: {"email"=>"usuario1@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'usuario1@test.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/authentication_controller.rb:6:in `login'
Completed 200 OK in 340ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 6070)


Started POST "/new_user" for ::1 at 2024-02-01 11:31:45 -0500
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"name"=>"usuario admin", "email"=>"usuario6@test.com", "username"=>"usuarioxy", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/users_controller.rb:18:in `create'
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `username`, `password_digest`, `role`, `created_at`, `updated_at`) VALUES ('usuario admin', 'usuario6@test.com', 'usuarioxy', '$2a$12$C2b5CYDnXMOFYPAkx96Hw.pmq3PLZI09kVa5bHJh/htnpo9KBuHpO', 'admin', '2024-02-01 16:31:45.483740', '2024-02-01 16:31:45.483740')[0m
  â†³ app/controllers/api/v1/users_controller.rb:18:in `create'
  [1m[36mTRANSACTION (124.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/users_controller.rb:18:in `create'
Completed 201 Created in 435ms (Views: 0.5ms | ActiveRecord: 127.5ms | Allocations: 2746)


Started POST "/auth/login" for ::1 at 2024-02-01 11:54:25 -0500
Processing by Api::V1::AuthenticationController#login as */*
  Parameters: {"email"=>"usuario1@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'usuario1@test.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/authentication_controller.rb:6:in `login'
Completed 200 OK in 309ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 5441)


Started GET "/users" for ::1 at 2024-02-01 11:55:30 -0500
Processing by Api::V1::UsersController#users as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  â†³ app/controllers/api/v1/users_controller.rb:7:in `users'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1290)


Started GET "/users" for ::1 at 2024-02-01 11:56:37 -0500
Processing by Api::V1::UsersController#users as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 255)


Started GET "/users" for ::1 at 2024-02-01 11:56:46 -0500
Processing by Api::V1::UsersController#users as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:8:in `authenticate_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  â†³ app/controllers/api/v1/users_controller.rb:8:in `users'
Completed 200 OK in 18ms (Views: 1.3ms | ActiveRecord: 4.1ms | Allocations: 6948)


Started GET "/products" for ::1 at 2024-02-01 11:59:27 -0500
Processing by Api::V1::ProductsController#products as */*
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  â†³ app/controllers/api/v1/products_controller.rb:11:in `products'
Completed 200 OK in 53ms (Views: 21.4ms | ActiveRecord: 6.4ms | Allocations: 7835)


Started GET "/products" for ::1 at 2024-02-01 11:59:51 -0500
Processing by Api::V1::ProductsController#products as */*
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 168)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/application_controller.rb:21:in `render_failed'
app/controllers/application_controller.rb:15:in `admin_role'
Started GET "/products" for ::1 at 2024-02-01 12:02:36 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ProductsController#products as */*
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 197)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/application_controller.rb:21:in `render_failed'
app/controllers/application_controller.rb:15:in `admin_role'
Started POST "/auth/login" for ::1 at 2024-02-01 12:05:04 -0500
Processing by Api::V1::AuthenticationController#login as */*
  Parameters: {"email"=>"usuario6@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'usuario6@test.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/authentication_controller.rb:6:in `login'
Completed 200 OK in 364ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 23426)


Started GET "/products" for ::1 at 2024-02-01 12:10:12 -0500
Processing by Api::V1::ProductsController#products as */*
Filter chain halted as :admin_role rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 271)


Started GET "/products" for ::1 at 2024-02-01 12:10:30 -0500
Processing by Api::V1::ProductsController#products as */*
Filter chain halted as :admin_role rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 110)


Started GET "/products" for ::1 at 2024-02-01 12:10:40 -0500
Processing by Api::V1::ProductsController#products as */*
Filter chain halted as :admin_role rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 110)


Started POST "/auth/login" for ::1 at 2024-02-01 12:12:02 -0500
Processing by Api::V1::AuthenticationController#login as */*
  Parameters: {"email"=>"usuario6@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'usuario6@test.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/authentication_controller.rb:6:in `login'
Completed 200 OK in 264ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 5742)


Started GET "/products" for ::1 at 2024-02-01 12:13:02 -0500
Processing by Api::V1::ProductsController#products as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1017)


  
NoMethodError (undefined method `role' for nil:NilClass

        puts @current_user.role
                          ^^^^^):
  
app/controllers/application_controller.rb:15:in `admin_role'
Started GET "/products" for ::1 at 2024-02-01 12:13:31 -0500
Processing by Api::V1::ProductsController#products as */*
Filter chain halted as :admin_role rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 252)


Started POST "/auth/login" for ::1 at 2024-02-01 12:16:13 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::AuthenticationController#login as */*
  Parameters: {"email"=>"usuario6@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'usuario6@test.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/authentication_controller.rb:6:in `login'
Completed 200 OK in 291ms (Views: 0.2ms | ActiveRecord: 3.3ms | Allocations: 23480)


Started GET "/products" for ::1 at 2024-02-01 12:21:43 -0500
Processing by Api::V1::ProductsController#products as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1032)


  
NoMethodError (undefined method `role' for nil:NilClass

        puts @current_user.role
                          ^^^^^):
  
app/controllers/application_controller.rb:16:in `admin_role'
Started GET "/products" for ::1 at 2024-02-01 12:24:20 -0500
Processing by Api::V1::ProductsController#products as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 960)


  
NoMethodError (undefined method `role' for nil:NilClass

        puts @current_user.role
                          ^^^^^):
  
app/controllers/application_controller.rb:17:in `admin_role'
Started GET "/products" for ::1 at 2024-02-01 12:25:00 -0500
Processing by Api::V1::ProductsController#products as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  â†³ app/controllers/api/v1/products_controller.rb:12:in `products'
Completed 200 OK in 21ms (Views: 5.8ms | ActiveRecord: 4.6ms | Allocations: 13580)


Started GET "/products" for ::1 at 2024-02-01 12:25:23 -0500
Processing by Api::V1::ProductsController#products as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Filter chain halted as :admin_role rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1070)


Started GET "/products" for ::1 at 2024-02-01 12:25:33 -0500
Processing by Api::V1::ProductsController#products as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  â†³ app/controllers/api/v1/products_controller.rb:12:in `products'
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.8ms | Allocations: 1796)


Started GET "/products" for ::1 at 2024-02-01 12:27:08 -0500
Processing by Api::V1::ProductsController#products as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  â†³ app/controllers/api/v1/products_controller.rb:12:in `products'
Completed 200 OK in 18ms (Views: 3.9ms | ActiveRecord: 4.4ms | Allocations: 11019)


Started GET "/products" for ::1 at 2024-02-01 12:27:33 -0500
Processing by Api::V1::ProductsController#products as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  â†³ app/controllers/api/v1/products_controller.rb:12:in `products'
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.6ms | Allocations: 1828)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3286683302019779655', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
Migrating to AddReferenceUserCustomer (20240201173804)
  [1m[35m (583.6ms)[0m  [1m[35mALTER TABLE `customers` ADD `user_id` bigint[0m
  [1m[35m (634.4ms)[0m  [1m[35mCREATE INDEX `index_customers_on_user_id` ON `customers` (`user_id`)[0m
  [1m[35m (2704.3ms)[0m  [1m[35mALTER TABLE `customers` ADD CONSTRAINT `fk_rails_9917eeaf5d`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
 ON DELETE CASCADE ON UPDATE CASCADE[0m
  [1m[36mActiveRecord::SchemaMigration Create (80.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240201173804')[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('3286683302019779655')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3286683302019779655', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
Migrating to AddReferenceUserCustomer (20240201173804)
  [1m[35m (330.9ms)[0m  [1m[35mALTER TABLE `users` ADD `phone` varchar(255)[0m
  [1m[35m (511.1ms)[0m  [1m[35mALTER TABLE `users` ADD `address` varchar(255)[0m
  [1m[35m (627.7ms)[0m  [1m[35mALTER TABLE `orders` DROP FOREIGN KEY fk_rails_3dad120da9[0m
  [1m[35m (2052.8ms)[0m  [1m[35mALTER TABLE `orders` DROP COLUMN `customer_id`[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('3286683302019779655')[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('3286683302019779655', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
Migrating to AddReferenceUserCustomer (20240201173804)
  [1m[35m (598.1ms)[0m  [1m[35mALTER TABLE `orders` ADD `user_id` bigint[0m
  [1m[35m (360.6ms)[0m  [1m[35mCREATE INDEX `index_orders_on_user_id` ON `orders` (`user_id`)[0m
  [1m[35m (4807.0ms)[0m  [1m[35mALTER TABLE `orders` ADD CONSTRAINT `fk_rails_f868b47f6a`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
 ON DELETE CASCADE ON UPDATE CASCADE[0m
  [1m[36mActiveRecord::SchemaMigration Create (121.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20240201173804')[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('3286683302019779655')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/new_order" for ::1 at 2024-02-01 14:31:55 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"order"=>{"order_has_products_attributes"=>[{"product_id"=>1, "cant"=>2}, {"product_id"=>3, "cant"=>1}]}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 89ms (ActiveRecord: 9.8ms | Allocations: 31011)


  
ActiveModel::UnknownAttributeError (unknown attribute 'order_has_products_attributes' for Order.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/orders_controller.rb:23:in `create'
Started POST "/new_order" for ::1 at 2024-02-01 14:36:57 -0500
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"order"=>{"order_has_products_attributes"=>[{"product_id"=>1, "cant"=>2}, {"product_id"=>3, "cant"=>1}]}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 1592)


  
ActiveModel::UnknownAttributeError (unknown attribute 'order_has_products_attributes' for Order.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/orders_controller.rb:23:in `create'
Started POST "/new_order" for ::1 at 2024-02-01 14:37:22 -0500
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"order"=>{"order_has_products_attributes"=>[{"product_id"=>1, "cant"=>2}, {"product_id"=>3, "cant"=>1}]}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 5.6ms | Allocations: 10816)


  
ActiveModel::UnknownAttributeError (unknown attribute 'order_has_products_attributes' for Order.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/orders_controller.rb:23:in `create'
Started POST "/new_order" for ::1 at 2024-02-01 14:40:46 -0500
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"order"=>{"order_has_products_attributes"=>[{"product_id"=>1, "cant"=>2}, {"product_id"=>3, "cant"=>1}]}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:110:in `block in calculate_order_total'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:110:in `block in calculate_order_total'
Completed 500 Internal Server Error in 161ms (ActiveRecord: 10.2ms | Allocations: 34577)


  
NoMethodError (private method `set_num_order' called for #<Order id: nil, num_order: nil, date_order: "2024-02-01", total_order: 6000, status_order: nil, created_at: nil, updated_at: nil, user_id: nil>):
  
app/controllers/api/v1/orders_controller.rb:26:in `create'
Started POST "/new_order" for ::1 at 2024-02-01 14:44:01 -0500
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"order"=>{"order_has_products_attributes"=>[{"product_id"=>1, "cant"=>2}, {"product_id"=>3, "cant"=>1}]}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:111:in `block in calculate_order_total'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:111:in `block in calculate_order_total'
Completed 500 Internal Server Error in 100ms (ActiveRecord: 9.7ms | Allocations: 25282)


  
NoMethodError (private method `set_num_order' called for #<Order id: nil, num_order: nil, date_order: "2024-02-01", total_order: 6000, status_order: nil, created_at: nil, updated_at: nil, user_id: nil>):
  
app/controllers/api/v1/orders_controller.rb:26:in `create'
Started POST "/new_order" for ::1 at 2024-02-01 14:47:06 -0500
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"order"=>{"order_has_products_attributes"=>[{"product_id"=>1, "cant"=>2}, {"product_id"=>3, "cant"=>1}]}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:112:in `block in calculate_order_total'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:112:in `block in calculate_order_total'
Completed 500 Internal Server Error in 47ms (ActiveRecord: 10.2ms | Allocations: 25249)


  
NoMethodError (private method `set_num_order' called for #<Order id: nil, num_order: nil, date_order: "2024-02-01", total_order: 6000, status_order: nil, created_at: nil, updated_at: nil, user_id: nil>):
  
app/controllers/api/v1/orders_controller.rb:26:in `create'
Started POST "/new_order" for ::1 at 2024-02-01 14:51:11 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"order"=>{"order_has_products_attributes"=>[{"product_id"=>1, "cant"=>2}, {"product_id"=>3, "cant"=>1}]}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:109:in `block in calculate_order_total'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:109:in `block in calculate_order_total'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 76ms (ActiveRecord: 11.2ms | Allocations: 47533)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/api/v1/orders_controller.rb:46:in `block in create'
app/controllers/api/v1/orders_controller.rb:30:in `each'
app/controllers/api/v1/orders_controller.rb:30:in `create'
Started POST "/new_order" for ::1 at 2024-02-01 14:53:49 -0500
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"order"=>{"order_has_products_attributes"=>[{"product_id"=>1, "cant"=>2}, {"product_id"=>3, "cant"=>1}]}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:109:in `block in calculate_order_total'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:109:in `block in calculate_order_total'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 9.4ms | Allocations: 21006)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/api/v1/orders_controller.rb:46:in `block in create'
app/controllers/api/v1/orders_controller.rb:30:in `each'
app/controllers/api/v1/orders_controller.rb:30:in `create'
Started POST "/new_order" for ::1 at 2024-02-01 14:57:29 -0500
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"order"=>{"order_has_products_attributes"=>[{"product_id"=>1, "cant"=>2}, {"product_id"=>3, "cant"=>1}]}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:111:in `block in calculate_order_total'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:111:in `block in calculate_order_total'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:34:in `block in create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/orders_controller.rb:58:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:58:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:58:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/orders_controller.rb:58:in `create'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` ORDER BY `orders`.`num_order` DESC LIMIT 1[0m
  â†³ app/models/order.rb:11:in `set_num_order'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`num_order`, `date_order`, `total_order`, `status_order`, `created_at`, `updated_at`, `user_id`) VALUES (1, '2024-02-01', 6000, 'Recibida', '2024-02-01 19:57:29.567945', '2024-02-01 19:57:29.567945', 1)[0m
  â†³ app/controllers/api/v1/orders_controller.rb:58:in `create'
  [1m[36mOrderHasProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `order_has_products` (`order_id`, `product_id`, `cant`, `created_at`, `updated_at`) VALUES (1, 1, 2, '2024-02-01 19:57:29.572063', '2024-02-01 19:57:29.572063')[0m
  â†³ app/controllers/api/v1/orders_controller.rb:58:in `create'
  [1m[36mOrderHasProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `order_has_products` (`order_id`, `product_id`, `cant`, `created_at`, `updated_at`) VALUES (1, 3, 1, '2024-02-01 19:57:29.574609', '2024-02-01 19:57:29.574609')[0m
  â†³ app/controllers/api/v1/orders_controller.rb:58:in `create'
  [1m[36mTRANSACTION (99.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/orders_controller.rb:58:in `create'
Completed 201 Created in 151ms (Views: 0.2ms | ActiveRecord: 110.9ms | Allocations: 30785)


Started POST "/auth/login" for ::1 at 2024-02-01 15:42:08 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::AuthenticationController#login as */*
  Parameters: {"email"=>"usuario6@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'usuario6@test.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/authentication_controller.rb:6:in `login'
Completed 200 OK in 312ms (Views: 0.3ms | ActiveRecord: 4.8ms | Allocations: 26597)


